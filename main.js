(()=>{"use strict";var e={formSelector:".popup__form",inputSelector:".popup__item",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_invalid",inputErrorClass:"popup__item_type_error",errorClass:"error_visible"},t=document.querySelector(".popup__form_add_card"),n=document.querySelector(".popup__form_edit_profile"),r=document.querySelector(".popup__form_update-avatar"),o=document.querySelector(".popup__item_input_name"),i=document.querySelector(".popup__item_input_occupation"),u=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),c=(document.querySelector("#button-delete-card"),document.querySelector(".profile__avatar-container")),l=document.querySelector(".profile__title"),s=document.querySelector(".profile__subtitle"),f=document.querySelector(".profile__avatar"),p=document.querySelector(".elements__items");function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}document.querySelector(".popup__button"),document.querySelector("#popup-edit-profile");var y=h((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"_showInputError",(function(e,t){var n=r._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(r._validationConfig.inputErrorClass),n.classList.add(r._validationConfig.errorClass),n.textContent=t})),_(this,"_hideInputError",(function(e){var t=r._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(r._validationConfig.inputErrorClass),t.classList.remove(r._validationConfig.errorClass),t.textContent=""})),_(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),_(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),_(this,"disableButton",(function(){r._buttonElement.classList.add(r._validationConfig.inactiveButtonClass),r._buttonElement.disabled=!0})),_(this,"activateButton",(function(){r._buttonElement.classList.remove(r._validationConfig.inactiveButtonClass),r._buttonElement.disabled=!1})),_(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r.disableButton():r.activateButton()})),_(this,"_setEventListeners",(function(){r._toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleButtonState()}))}))})),_(this,"enableValidation",(function(){r._setEventListeners()})),_(this,"resetValidationErrors",(function(){r._toggleButtonState(),r._inputList.forEach((function(e){r._hideInputError(e)}))})),this._validationConfig=t,this._formElement=n,this._buttonSubmitSelector=t.submitButtonSelector,this._buttonElement=this._formElement.querySelector(this._buttonSubmitSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._validationConfig.inputSelector))}));function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._templateSelector=n,this._handlePreviewCard=r,this._handleDeleteCard=o,this._handleAddLike=i,this._handleRemoveLike=u,this._likes=t.likes,this._userId=t.userId,this._cardId=t.cardId,this._ownerId=t.ownerId}var t,n;return t=e,(n=[{key:"_getCardTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"createCardElement",value:function(){return this._element=this._getCardTemplate(),this._cardImageElement=this._element.querySelector(".element__image"),this._cardNameElement=this._element.querySelector(".element__text"),this._likesCounter=this._element.querySelector(".element__like-number"),this._likeButton=this._element.querySelector(".element__like"),this._deleteButton=this._element.querySelector(".element__delete-button"),this._cardImageElement.src=this._link,this._cardImageElement.alt=this._name,this._cardNameElement.textContent=this._name,this._likesCounter.textContent="".concat(this._likes.length),this._setEventListeners(),this._handleCardLikeState(),this._checkId(),this._element}},{key:"_checkId",value:function(){this._userId!==this._ownerId&&this._deleteButton.remove()}},{key:"_handleCardLikeState",value:function(){var e=this;this._likes.forEach((function(t){t._id===e._userId?e.addLike():e.removeLike()}))}},{key:"addLike",value:function(){this._likeButton.classList.add("element__like_active")}},{key:"removeLike",value:function(){this._likeButton.classList.remove("element__like_active")}},{key:"setLikesCount",value:function(e){this._likesCounter.textContent="".concat(e.likes.length)}},{key:"deleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._likeButton.classList.contains("element__like_active")?e._handleRemoveLike():e._handleAddLike()})),this._deleteButton.addEventListener("click",(function(){e._handleDeleteCard(e)})),this._cardImageElement.addEventListener("click",(function(){e._handlePreviewCard(e._name,e._link)}))}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._closePopupKeydownEscHandler=this._closePopupKeydownEscHandler.bind(this)}var t,n;return t=e,(n=[{key:"openPopup",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._closePopupKeydownEscHandler)}},{key:"closePopup",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._closePopupKeydownEscHandler)}},{key:"_closePopupKeydownEscHandler",value:function(e){"Escape"===e.key&&this.closePopup()}},{key:"_closePopupClickOverlayHandler",value:function(e){e.target.classList.contains("popup_opened")&&this.closePopup()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".popup__close-icon").addEventListener("click",(function(){e.closePopup()})),this._popupElement.addEventListener("mousedown",this._closePopupClickOverlayHandler.bind(this))}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=O(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function O(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function L(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._name=t._popupElement.querySelector(".popup__figcaption"),t._link=t._popupElement.querySelector(".popup__image"),t}return t=u,(n=[{key:"openPopup",value:function(e,t){P(I(u.prototype),"openPopup",this).call(this),this._name.textContent=e,this._link.src=t,this._link.alt=e}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(w);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=T(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},q.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function A(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(o){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return A(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._handleFormSubmit=t,n._formElement=n._popupElement.querySelector(".popup__form"),n._inputList=n._formElement.querySelectorAll(".popup__item"),n._popupSubmitButton=n._formElement.querySelector(".popup__button"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formInputValues={},this._inputList.forEach((function(t){e._formInputValues[t.name]=t.value})),this._formInputValues}},{key:"setEventListeners",value:function(){var e=this;q(V(u.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.closePopup()}))}},{key:"closePopup",value:function(){q(V(u.prototype),"closePopup",this).call(this),this._formElement.reset()}},{key:"handleSubmitButtonText",value:function(e){this._popupSubmitButton.textContent=e?"Сохранение...":"Сохранить"}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(w);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(){return H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=K(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},H.apply(this,arguments)}function K(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function J(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M(r);if(o){var n=M(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return J(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._formElement=n._popupElement.querySelector(".popup__form"),n._handleFormSubmitDeleteCard=t,n._buttonElement=n._popupElement.querySelector(".popup__button_confirm"),n}return t=u,(n=[{key:"openPopup",value:function(e){H(M(u.prototype),"openPopup",this).call(this),this._card=e,this._buttonElement.focus()}},{key:"setEventListeners",value:function(){var e=this;H(M(u.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmitDeleteCard(e._card)}))}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(w);function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(t){var n=t.profileName,r=t.profileOccupation,o=t.profileAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=n,this._profileOccupation=r,this._profileAvatar=o}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._userInfo={name:this._profileName.textContent,about:this._profileOccupation.textContent,avatar:this._profileAvatar.src},this._userInfo}},{key:"setUserInfo",value:function(e){this._profileName.textContent=e.name,this._profileOccupation.textContent=e.about,this._profileAvatar.src=e.avatar}}])&&$(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(t){var n=t.url,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=n,this._headers=r}var t,n;return t=e,n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserProfileInfo",value:function(){var e=this;return this._userProfileInfo=fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then((function(t){return e._checkResponse(t)})),this._userProfileInfo}},{key:"getInitialCards",value:function(){var e=this;return this._initialCards=fetch("".concat(this._url,"/cards"),{headers:this._headers}).then((function(t){return e._checkResponse(t)})),this._initialCards}},{key:"editProfileInfo",value:function(e){var t=this;return this._editedProfileInfo=fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t._checkResponse(e)})),this._editedProfileInfo}},{key:"addNewCards",value:function(e,t){var n=this;return this._newCards=fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return n._checkResponse(e)})),this._newCards}},{key:"likeCard",value:function(e){var t=this;return this._addedLike=fetch("".concat(this._url,"/cards/").concat(e._id,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return t._checkResponse(e)})),this._addedLike}},{key:"removeLikeCard",value:function(e){var t=this;return this._removedLike=fetch("".concat(this._url,"/cards/").concat(e._id,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return t._checkResponse(e)})),this._removedLike}},{key:"deleteCard",value:function(e){var t=this;return this._deletedCard=fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._checkResponse(e)})),this._deletedCard}},{key:"updateAvatar",value:function(e){var t=this;return this._updatedAvatar=fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then((function(e){return t._checkResponse(e)})),this._updatedAvatar}}],n&&Q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y=new y(e,n);Y.enableValidation();var Z=new y(e,t);Z.enableValidation();var ee=new y(e,r);ee.enableValidation();var te,ne=new W({url:"https://mesto.nomoreparties.co/v1/cohort-52/",headers:{authorization:"bbfe3381-78a1-420d-846d-3c7932cfb849","Content-Type":"application/json"}}),re=function(e,t){ae.openPopup(e,t)},oe=function(e){var t=new v({name:e.name,link:e.link,ownerId:e.owner._id,userId:te,cardId:e._id,likes:e.likes},".element__template",re,(function(){return fe.openPopup(t)}),(function(){return ne.likeCard(e).then((function(e){t.setLikesCount(e),t.addLike()})).catch((function(e){return console.log(e)}))}),(function(){return ne.removeLikeCard(e).then((function(e){t.setLikesCount(e),t.removeLike()})).catch((function(e){return console.log(e)}))}));return t.createCardElement()};Promise.all([ne.getInitialCards(),ne.getUserProfileInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];te=i._id,ie.renderItems(o),ce.setUserInfo(i)})).catch((function(e){return console.log(e)}));var ie=new k({renderer:function(e){ie.addItem(oe(e))}},p),ue=new D("#popup-add-card",(function(e){return ue.handleSubmitButtonText(!0),ne.addNewCards(e.name,e.link).then((function(e){ie.addItem(oe(e)),ue.closePopup()})).catch((function(e){return console.log(e)}))}));ue.setEventListeners();var ae=new j("#popup-image");ae.setEventListeners();var ce=new G({profileName:l,profileOccupation:s,profileAvatar:f}),le=new D("#popup-edit-profile",(function(e){return le.handleSubmitButtonText(!0),ne.editProfileInfo(e).then((function(e){ce.setUserInfo(e),le.closePopup()})).catch((function(e){return console.log(e)}))}));le.setEventListeners();var se=new D("#popup-avatar-update",(function(e){return se.handleSubmitButtonText(!0),ne.updateAvatar(e).then((function(e){ce.setUserInfo(e),se.closePopup()})).catch((function(e){return console.log(e)}))}));se.setEventListeners();var fe=new z("#popup-confirm",(function(e){return ne.deleteCard(e._cardId).then((function(){e.deleteCard(),fe.closePopup()})).catch((function(e){return console.log(e)}))}));fe.setEventListeners(),u.addEventListener("click",(function(){var e;le.openPopup(),e=ce.getUserInfo(),o.value=e.name,i.value=e.about,Y.resetValidationErrors(),le.handleSubmitButtonText(!1)})),a.addEventListener("click",(function(){ue.openPopup(),Z.resetValidationErrors(),ue.handleSubmitButtonText(!1)})),c.addEventListener("click",(function(){se.openPopup(),se.handleSubmitButtonText(!1),ee.resetValidationErrors()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVBYa0MsRUFBV3RELEdBQVl1RCxjQUM3QmhOLEVBQXFCbUgsTUFBUTRGLEVBQVM1SixLQUN0Q2xELEVBQTJCa0gsTUFBUTRGLEVBQVN6RSxNQU81Q2dDLEVBQXlCMkMsd0JBQ3pCVCxHQUFpQkgsd0JBQXVCLEVBQ3pDLElBRURsTSxFQUFzQmdDLGlCQUFpQixTQUFTLFdBQzlDZ0ssR0FBYXRCLFlBQ2JMLEVBQXFCeUMsd0JBQ3JCZCxHQUFhRSx3QkFBdUIsRUFDckMsSUFFRGpNLEVBQThCK0IsaUJBQWlCLFNBQVMsV0FDdER5SyxHQUF5Qi9CLFlBQ3pCK0IsR0FBeUJQLHdCQUF1QixHQUNoRDVCLEdBQWlDd0MsdUJBQ2xDLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2UvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faXRlbScsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uX2ludmFsaWQnLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2l0ZW1fdHlwZV9lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAnZXJyb3JfdmlzaWJsZSdcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fYWRkX2NhcmQnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0Rm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fZWRpdF9wcm9maWxlJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlVXBkYXRlQXZhdGFyRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fdXBkYXRlLWF2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgbmFtZUVkaXRJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2l0ZW1faW5wdXRfbmFtZScpO1xyXG5leHBvcnQgY29uc3Qgb2NjdXBhdGlvbkVkaXRJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2l0ZW1faW5wdXRfb2NjdXBhdGlvbicpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQWRkT3BlbkZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgY2FyZERlbGV0ZUNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnV0dG9uLWRlbGV0ZS1jYXJkJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlVXBkYXRlQXZhdGFyT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItY29udGFpbmVyJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVPY2N1cGF0aW9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19zdWJ0aXRsZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkTGlzdEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2l0ZW1zJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLWVkaXQtcHJvZmlsZScpOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl92YWxpZGF0aW9uQ29uZmlnID0gdmFsaWRhdGlvbkNvbmZpZztcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgICAgIHRoaXMuX2J1dHRvblN1Ym1pdFNlbGVjdG9yID0gdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9idXR0b25TdWJtaXRTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgfTtcclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgfTtcclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgfTtcclxuXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRpc2FibGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBhY3RpdmF0ZUJ1dHRvbiA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZUJ1dHRvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlc2V0VmFsaWRhdGlvbkVycm9ycyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgY2FyZEVsZW1lbnRJbmZvLCBcclxuICAgIHRlbXBsYXRlU2VsZWN0b3IsIFxyXG4gICAgaGFuZGxlUHJldmlld0NhcmQsIFxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZCwgXHJcbiAgICBoYW5kbGVBZGRMaWtlLCBcclxuICAgIGhhbmRsZVJlbW92ZUxpa2UpIHtcclxuICAgIHRoaXMuX25hbWUgPSBjYXJkRWxlbWVudEluZm8ubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBjYXJkRWxlbWVudEluZm8ubGluaztcclxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlUHJldmlld0NhcmQgPSBoYW5kbGVQcmV2aWV3Q2FyZDtcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgdGhpcy5faGFuZGxlQWRkTGlrZSA9IGhhbmRsZUFkZExpa2U7XHJcbiAgICB0aGlzLl9oYW5kbGVSZW1vdmVMaWtlID0gaGFuZGxlUmVtb3ZlTGlrZTtcclxuICAgIHRoaXMuX2xpa2VzID0gY2FyZEVsZW1lbnRJbmZvLmxpa2VzO1xyXG4gICAgdGhpcy5fdXNlcklkID0gY2FyZEVsZW1lbnRJbmZvLnVzZXJJZDtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmRFbGVtZW50SW5mby5jYXJkSWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gY2FyZEVsZW1lbnRJbmZvLm93bmVySWQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0Q2FyZFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH07XHJcbiAgXHJcbiAgY3JlYXRlQ2FyZEVsZW1lbnQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0Q2FyZFRlbXBsYXRlKCk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJyk7IC8vXHJcbiAgICB0aGlzLl9jYXJkTmFtZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190ZXh0Jyk7XHJcbiAgICB0aGlzLl9saWtlc0NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLW51bWJlcicpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nKTtcclxuXHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZE5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IGAke3RoaXMuX2xpa2VzLmxlbmd0aH1gO1xyXG4gICAgXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpOyBcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlU3RhdGUoKTtcclxuICAgIHRoaXMuX2NoZWNrSWQoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9O1xyXG5cclxuICBfY2hlY2tJZCgpIHtcclxuICAgIGlmICh0aGlzLl91c2VySWQgIT09IHRoaXMuX293bmVySWQpIHtcclxuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNhcmRMaWtlU3RhdGUoKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VzLmZvckVhY2goKHVzZXIpID0+IHtcclxuICAgICAgICBpZiAodXNlci5faWQgPT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICAgICAgdGhpcy5hZGRMaWtlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucmVtb3ZlTGlrZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgYWRkTGlrZSgpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZV9hY3RpdmUnKTtcclxuIDsgfVxyXG5cclxuICByZW1vdmVMaWtlKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19saWtlX2FjdGl2ZScpO1xyXG4gIH07XHJcblxyXG4gIHNldExpa2VzQ291bnQocmVzKSB7XHJcbiAgICB0aGlzLl9saWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSBgJHtyZXMubGlrZXMubGVuZ3RofWA7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50X19saWtlX2FjdGl2ZScpKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlTGlrZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUFkZExpa2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlUHJldmlld0NhcmQodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XHJcbn1cclxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VQb3B1cEtleWRvd25Fc2NIYW5kbGVyID0gdGhpcy5fY2xvc2VQb3B1cEtleWRvd25Fc2NIYW5kbGVyLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlblBvcHVwKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VQb3B1cEtleWRvd25Fc2NIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVBvcHVwKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VQb3B1cEtleWRvd25Fc2NIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2xvc2VQb3B1cEtleWRvd25Fc2NIYW5kbGVyKGV2dCkge1xyXG4gICAgICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfY2xvc2VQb3B1cENsaWNrT3ZlcmxheUhhbmRsZXIoZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1pY29uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9jbG9zZVBvcHVwQ2xpY2tPdmVybGF5SGFuZGxlci5iaW5kKHRoaXMpKTsgICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ZpZ2NhcHRpb24nKTtcclxuICAgICAgICB0aGlzLl9saW5rID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuUG9wdXAoY2FyZE5hbWUsIGNhcmRMaW5rKSB7XHJcbiAgICAgICAgc3VwZXIub3BlblBvcHVwKCk7XHJcbiAgICAgICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGNhcmROYW1lO1xyXG4gICAgICAgIHRoaXMuX2xpbmsuc3JjID0gY2FyZExpbms7XHJcbiAgICAgICAgdGhpcy5fbGluay5hbHQgPSBjYXJkTmFtZTtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pdGVtJyk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICB0aGlzLl9mb3JtSW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1JbnB1dFZhbHVlc1tpbnB1dEVsZW1lbnQubmFtZV0gPSBpbnB1dEVsZW1lbnQudmFsdWU7XHJcbiAgICAgICAgfSk7ICAgIFxyXG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtSW5wdXRWYWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVBvcHVwKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlUG9wdXAoKTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVN1Ym1pdEJ1dHRvblRleHQoaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9wb3B1cFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9wb3B1cFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LjRgtGMXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdERlbGV0ZUNhcmQpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0RGVsZXRlQ2FyZCA9IGhhbmRsZUZvcm1TdWJtaXREZWxldGVDYXJkO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b25fY29uZmlybScpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5Qb3B1cChjYXJkRWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyLm9wZW5Qb3B1cCgpO1xyXG4gICAgICAgIHRoaXMuX2NhcmQgPSBjYXJkRWxlbWVudDtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmZvY3VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0RGVsZXRlQ2FyZCh0aGlzLl9jYXJkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHtwcm9maWxlTmFtZSwgcHJvZmlsZU9jY3VwYXRpb24sIHByb2ZpbGVBdmF0YXJ9KSB7XHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBwcm9maWxlTmFtZTtcclxuICAgICAgICB0aGlzLl9wcm9maWxlT2NjdXBhdGlvbiA9IHByb2ZpbGVPY2N1cGF0aW9uO1xyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIgPSBwcm9maWxlQXZhdGFyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJJbmZvID0ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgYWJvdXQ6IHRoaXMuX3Byb2ZpbGVPY2N1cGF0aW9uLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBhdmF0YXI6IHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjXHJcbiAgICAgICAgfTsgICAgICBcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXNlckluZm87XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8odXNlckluZm8pIHtcclxuICAgICAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHVzZXJJbmZvLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZU9jY3VwYXRpb24udGV4dENvbnRlbnQgPSB1c2VySW5mby5hYm91dDtcclxuICAgICAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IHVzZXJJbmZvLmF2YXRhcjtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7dXJsLCBoZWFkZXJzfSkge1xyXG4gICAgICAgIHRoaXMuX3VybCA9IHVybDtcclxuICAgICAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tSZXNwb25zZShyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5vayApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJQcm9maWxlSW5mbygpIHtcclxuICAgICAgICB0aGlzLl91c2VyUHJvZmlsZUluZm8gPSBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJQcm9maWxlSW5mbztcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICAgICAgdGhpcy5faW5pdGlhbENhcmRzID0gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXNwb25zZSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsQ2FyZHM7XHJcbiAgICB9XHJcblxyXG4gICAgZWRpdFByb2ZpbGVJbmZvKHByb2ZpbGVJbmZvKSB7XHJcbiAgICAgICAgdGhpcy5fZWRpdGVkUHJvZmlsZUluZm8gPSBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHByb2ZpbGVJbmZvLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dDogcHJvZmlsZUluZm8uYWJvdXRcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXNwb25zZSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lZGl0ZWRQcm9maWxlSW5mbztcclxuICAgIH1cclxuXHJcbiAgICBhZGROZXdDYXJkcyhuYW1lLCBsaW5rKSB7XHJcbiAgICAgICAgdGhpcy5fbmV3Q2FyZHMgPSBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgIGxpbms6IGxpbmtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXNwb25zZSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9uZXdDYXJkcztcclxuICAgIH1cclxuXHJcbiAgICBsaWtlQ2FyZChsaWtlKSB7XHJcbiAgICAgICAgdGhpcy5fYWRkZWRMaWtlID0gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2xpa2UuX2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXNwb25zZSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRlZExpa2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlTGlrZUNhcmQobGlrZSkge1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZWRMaWtlID0gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2xpa2UuX2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXNwb25zZSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW1vdmVkTGlrZTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVDYXJkKGlkKSB7XHJcbiAgICAgICAgdGhpcy5fZGVsZXRlZENhcmQgPSBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGV0ZWRDYXJkO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUF2YXRhcihpbWFnZUxpbmspIHtcclxuICAgICAgICB0aGlzLl91cGRhdGVkQXZhdGFyID0gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgYXZhdGFyOiBpbWFnZUxpbmsuYXZhdGFyXHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzcG9uc2UpKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlZEF2YXRhcjtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuXHJcbmltcG9ydCB7XHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBjYXJkRm9ybUVsZW1lbnQsXHJcbiAgcHJvZmlsZUVkaXRGb3JtRWxlbWVudCxcclxuICBuYW1lRWRpdElucHV0RWxlbWVudCxcclxuICBvY2N1cGF0aW9uRWRpdElucHV0RWxlbWVudCxcclxuICBwcm9maWxlRWRpdE9wZW5CdXR0b24sXHJcbiAgY2FyZEFkZE9wZW5Gb3JtQnV0dG9uLFxyXG4gIHByb2ZpbGVOYW1lRWxlbWVudCxcclxuICBwcm9maWxlT2NjdXBhdGlvbkVsZW1lbnQsXHJcbiAgY2FyZExpc3RFbGVtZW50LFxyXG4gIHByb2ZpbGVBdmF0YXJFbGVtZW50LFxyXG4gIHByb2ZpbGVVcGRhdGVBdmF0YXJGb3JtRWxlbWVudCxcclxuICBwcm9maWxlVXBkYXRlQXZhdGFyT3BlbkJ1dHRvblxyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7IFxyXG5cclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuXHJcblxyXG5jb25zdCBwcm9maWxlRWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwcm9maWxlRWRpdEZvcm1FbGVtZW50KTtcclxucHJvZmlsZUVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY29uc3QgY2FyZEFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBjYXJkRm9ybUVsZW1lbnQpO1xyXG5jYXJkQWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNvbnN0IHByb2ZpbGVVcGRhdGVBdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcHJvZmlsZVVwZGF0ZUF2YXRhckZvcm1FbGVtZW50KTtcclxucHJvZmlsZVVwZGF0ZUF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIHVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTIvJyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnYmJmZTMzODEtNzhhMS00MjBkLTg0NmQtM2M3OTMyY2ZiODQ5JyxcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgfVxyXG59KTsgXHJcblxyXG5cclxuY29uc3QgaGFuZGxlUHJldmlld0NhcmQgPSAoY2FyZE5hbWUsIGNhcmRMaW5rKSA9PiB7IFxyXG4gIGNhcmRQcmV2aWV3SW1hZ2VQb3B1cC5vcGVuUG9wdXAoY2FyZE5hbWUsIGNhcmRMaW5rKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoY2FyZEVsZW1lbnRJbmZvKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkICh7XHJcbiAgICBuYW1lOiBjYXJkRWxlbWVudEluZm8ubmFtZSxcclxuICAgIGxpbms6IGNhcmRFbGVtZW50SW5mby5saW5rLFxyXG4gICAgb3duZXJJZDogY2FyZEVsZW1lbnRJbmZvLm93bmVyLl9pZCxcclxuICAgIHVzZXJJZDogdXNlcklkLFxyXG4gICAgY2FyZElkOiBjYXJkRWxlbWVudEluZm8uX2lkLFxyXG4gICAgbGlrZXM6IGNhcmRFbGVtZW50SW5mby5saWtlc1xyXG4gIH0sIFxyXG4gICcuZWxlbWVudF9fdGVtcGxhdGUnLCBcclxuICBoYW5kbGVQcmV2aWV3Q2FyZCxcclxuICAoKSA9PiBjb25maXJtRGVsZXRlQ2FyZFBvcHVwLm9wZW5Qb3B1cChjYXJkKSxcclxuICAoKSA9PiB7XHJcbiAgICByZXR1cm4gYXBpXHJcbiAgICAgIC5saWtlQ2FyZChjYXJkRWxlbWVudEluZm8pXHJcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGNhcmQuc2V0TGlrZXNDb3VudChyZXNwb25zZSk7XHJcbiAgICAgICAgY2FyZC5hZGRMaWtlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gIH0sXHJcbiAgKCkgPT4ge1xyXG4gICAgcmV0dXJuIGFwaVxyXG4gICAgICAucmVtb3ZlTGlrZUNhcmQoY2FyZEVsZW1lbnRJbmZvKVxyXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICBjYXJkLnNldExpa2VzQ291bnQocmVzcG9uc2UpO1xyXG4gICAgICAgIGNhcmQucmVtb3ZlTGlrZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICB9XHJcbiAgKVxyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5jcmVhdGVDYXJkRWxlbWVudCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufTtcclxuXHJcblxyXG5sZXQgdXNlcklkO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJQcm9maWxlSW5mbygpXSlcclxuICAudGhlbigoW2NhcmRFbGVtZW50cywgdXNlckluZm9dKSA9PiB7XHJcbiAgICB1c2VySWQgPSB1c2VySW5mby5faWQ7XHJcbiAgICBpbml0aWFsQ2FyZExpc3QucmVuZGVySXRlbXMoY2FyZEVsZW1lbnRzKTtcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHVzZXJJbmZvKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuXHJcblxyXG5jb25zdCBpbml0aWFsQ2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XHJcbiAgICByZW5kZXJlcjogKGluaXRpYWxDYXJkRWxlbWVudCkgPT4ge1xyXG4gICAgICBpbml0aWFsQ2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGluaXRpYWxDYXJkRWxlbWVudCkpO1xyXG4gICAgfVxyXG59LCBjYXJkTGlzdEVsZW1lbnQpO1xyXG5cclxuXHJcbmNvbnN0IGhhbmRsZUFkZENhcmRTdWJtaXQgPSAobmV3Q2FyZEVsZW1lbnQpID0+IHtcclxuICBjYXJkQWRkUG9wdXAuaGFuZGxlU3VibWl0QnV0dG9uVGV4dCh0cnVlKTtcclxuICByZXR1cm4gYXBpXHJcbiAgICAuYWRkTmV3Q2FyZHMobmV3Q2FyZEVsZW1lbnQubmFtZSwgbmV3Q2FyZEVsZW1lbnQubGluaylcclxuICAgIC50aGVuKChjYXJkKSA9PiB7XHJcbiAgICAgIGluaXRpYWxDYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZCkpO1xyXG4gICAgICBjYXJkQWRkUG9wdXAuY2xvc2VQb3B1cCgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxufTtcclxuXHJcbmNvbnN0IGNhcmRBZGRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjcG9wdXAtYWRkLWNhcmQnLCBoYW5kbGVBZGRDYXJkU3VibWl0KTtcclxuY2FyZEFkZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuY29uc3QgY2FyZFByZXZpZXdJbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKCcjcG9wdXAtaW1hZ2UnKTtcclxuY2FyZFByZXZpZXdJbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuY29uc3QgcHJvZmlsZUluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gICAgcHJvZmlsZU5hbWU6IHByb2ZpbGVOYW1lRWxlbWVudCwgXHJcbiAgICBwcm9maWxlT2NjdXBhdGlvbjogcHJvZmlsZU9jY3VwYXRpb25FbGVtZW50LFxyXG4gICAgcHJvZmlsZUF2YXRhcjogcHJvZmlsZUF2YXRhckVsZW1lbnRcclxufSk7XHJcblxyXG5cclxuY29uc3QgaGFuZGxlRWRpdFByb2ZpbGVTdWJtaXQgPSAoaW5mbykgPT4ge1xyXG4gIHByb2ZpbGVFZGl0UG9wdXAuaGFuZGxlU3VibWl0QnV0dG9uVGV4dCh0cnVlKTtcclxuICByZXR1cm4gYXBpXHJcbiAgICAuZWRpdFByb2ZpbGVJbmZvKGluZm8pXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhkYXRhKTtcclxuICAgICAgcHJvZmlsZUVkaXRQb3B1cC5jbG9zZVBvcHVwKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59O1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjcG9wdXAtZWRpdC1wcm9maWxlJywgaGFuZGxlRWRpdFByb2ZpbGVTdWJtaXQpO1xyXG5wcm9maWxlRWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuY29uc3QgaGFuZGxlVXBkYXRlQXZhdGFyU3VibWl0ID0gKHVybCkgPT4ge1xyXG4gIHByb2ZpbGVVcGRhdGVBdmF0YXJQb3B1cC5oYW5kbGVTdWJtaXRCdXR0b25UZXh0KHRydWUpO1xyXG4gIHJldHVybiBhcGlcclxuICAgIC51cGRhdGVBdmF0YXIodXJsKVxyXG4gICAgLnRoZW4oKGxpbmspID0+IHtcclxuICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8obGluayk7XHJcbiAgICAgIHByb2ZpbGVVcGRhdGVBdmF0YXJQb3B1cC5jbG9zZVBvcHVwKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59XHJcblxyXG5jb25zdCBwcm9maWxlVXBkYXRlQXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI3BvcHVwLWF2YXRhci11cGRhdGUnLCBoYW5kbGVVcGRhdGVBdmF0YXJTdWJtaXQpO1xyXG5wcm9maWxlVXBkYXRlQXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG5jb25zdCBoYW5kbGVGb3JtU3VibWl0RGVsZXRlQ2FyZCA9IChjYXJkKSA9PiB7XHJcbiAgcmV0dXJuIGFwaVxyXG4gICAgLmRlbGV0ZUNhcmQoY2FyZC5fY2FyZElkKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBjYXJkLmRlbGV0ZUNhcmQoKTtcclxuICAgICAgY29uZmlybURlbGV0ZUNhcmRQb3B1cC5jbG9zZVBvcHVwKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59XHJcblxyXG5jb25zdCBjb25maXJtRGVsZXRlQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbignI3BvcHVwLWNvbmZpcm0nLCBoYW5kbGVGb3JtU3VibWl0RGVsZXRlQ2FyZCk7XHJcbmNvbmZpcm1EZWxldGVDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG5jb25zdCBzZXRFZGl0UHJvZmlsZU1vZGUgPSAoKSA9PiB7XHJcbiAgY29uc3QgdXNlckRhdGEgPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpO1xyXG4gIG5hbWVFZGl0SW5wdXRFbGVtZW50LnZhbHVlID0gdXNlckRhdGEubmFtZTtcclxuICBvY2N1cGF0aW9uRWRpdElucHV0RWxlbWVudC52YWx1ZSA9IHVzZXJEYXRhLmFib3V0O1xyXG59O1xyXG5cclxuXHJcbnByb2ZpbGVFZGl0T3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwcm9maWxlRWRpdFBvcHVwLm9wZW5Qb3B1cCgpO1xyXG4gIHNldEVkaXRQcm9maWxlTW9kZSgpO1xyXG4gIHByb2ZpbGVFZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb25FcnJvcnMoKTtcclxuICBwcm9maWxlRWRpdFBvcHVwLmhhbmRsZVN1Ym1pdEJ1dHRvblRleHQoZmFsc2UpO1xyXG59KTtcclxuXHJcbmNhcmRBZGRPcGVuRm9ybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBjYXJkQWRkUG9wdXAub3BlblBvcHVwKCk7XHJcbiAgY2FyZEFkZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uRXJyb3JzKCk7XHJcbiAgY2FyZEFkZFBvcHVwLmhhbmRsZVN1Ym1pdEJ1dHRvblRleHQoZmFsc2UpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVVcGRhdGVBdmF0YXJPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHByb2ZpbGVVcGRhdGVBdmF0YXJQb3B1cC5vcGVuUG9wdXAoKTtcclxuICBwcm9maWxlVXBkYXRlQXZhdGFyUG9wdXAuaGFuZGxlU3VibWl0QnV0dG9uVGV4dChmYWxzZSk7XHJcbiAgcHJvZmlsZVVwZGF0ZUF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uRXJyb3JzKCk7XHJcbn0pOyJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJjYXJkRm9ybUVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlRWRpdEZvcm1FbGVtZW50IiwicHJvZmlsZVVwZGF0ZUF2YXRhckZvcm1FbGVtZW50IiwibmFtZUVkaXRJbnB1dEVsZW1lbnQiLCJvY2N1cGF0aW9uRWRpdElucHV0RWxlbWVudCIsInByb2ZpbGVFZGl0T3BlbkJ1dHRvbiIsImNhcmRBZGRPcGVuRm9ybUJ1dHRvbiIsInByb2ZpbGVVcGRhdGVBdmF0YXJPcGVuQnV0dG9uIiwicHJvZmlsZU5hbWVFbGVtZW50IiwicHJvZmlsZU9jY3VwYXRpb25FbGVtZW50IiwicHJvZmlsZUF2YXRhckVsZW1lbnQiLCJjYXJkTGlzdEVsZW1lbnQiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsIl92YWxpZGF0aW9uQ29uZmlnIiwidGV4dENvbnRlbnQiLCJyZW1vdmUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaW5wdXRMaXN0Iiwic29tZSIsIl9idXR0b25FbGVtZW50IiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZUJ1dHRvbiIsImFjdGl2YXRlQnV0dG9uIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwidGhpcyIsIl9idXR0b25TdWJtaXRTZWxlY3RvciIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJDYXJkIiwiY2FyZEVsZW1lbnRJbmZvIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZVByZXZpZXdDYXJkIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUFkZExpa2UiLCJoYW5kbGVSZW1vdmVMaWtlIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlUHJldmlld0NhcmQiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9oYW5kbGVBZGRMaWtlIiwiX2hhbmRsZVJlbW92ZUxpa2UiLCJfbGlrZXMiLCJsaWtlcyIsIl91c2VySWQiLCJ1c2VySWQiLCJfY2FyZElkIiwiY2FyZElkIiwiX293bmVySWQiLCJvd25lcklkIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldENhcmRUZW1wbGF0ZSIsIl9jYXJkSW1hZ2VFbGVtZW50IiwiX2NhcmROYW1lRWxlbWVudCIsIl9saWtlc0NvdW50ZXIiLCJfbGlrZUJ1dHRvbiIsIl9kZWxldGVCdXR0b24iLCJzcmMiLCJhbHQiLCJsZW5ndGgiLCJfaGFuZGxlQ2FyZExpa2VTdGF0ZSIsIl9jaGVja0lkIiwidXNlciIsIl9pZCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwicmVzIiwiY29udGFpbnMiLCJTZWN0aW9uIiwiY29udGFpbmVyIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsInByZXBlbmQiLCJpdGVtcyIsIml0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2Nsb3NlUG9wdXBLZXlkb3duRXNjSGFuZGxlciIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2VQb3B1cCIsInRhcmdldCIsIl9jbG9zZVBvcHVwQ2xpY2tPdmVybGF5SGFuZGxlciIsIlBvcHVwV2l0aEltYWdlIiwiY2FyZE5hbWUiLCJjYXJkTGluayIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfcG9wdXBTdWJtaXRCdXR0b24iLCJfZm9ybUlucHV0VmFsdWVzIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiaXNMb2FkaW5nIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiaGFuZGxlRm9ybVN1Ym1pdERlbGV0ZUNhcmQiLCJfaGFuZGxlRm9ybVN1Ym1pdERlbGV0ZUNhcmQiLCJjYXJkRWxlbWVudCIsIl9jYXJkIiwiZm9jdXMiLCJVc2VySW5mbyIsInByb2ZpbGVOYW1lIiwicHJvZmlsZU9jY3VwYXRpb24iLCJwcm9maWxlQXZhdGFyIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVPY2N1cGF0aW9uIiwiX3Byb2ZpbGVBdmF0YXIiLCJfdXNlckluZm8iLCJhYm91dCIsImF2YXRhciIsInVzZXJJbmZvIiwiQXBpIiwidXJsIiwiaGVhZGVycyIsIl91cmwiLCJfaGVhZGVycyIsInJlc3BvbnNlIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsIl91c2VyUHJvZmlsZUluZm8iLCJmZXRjaCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsIl9pbml0aWFsQ2FyZHMiLCJwcm9maWxlSW5mbyIsIl9lZGl0ZWRQcm9maWxlSW5mbyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiX25ld0NhcmRzIiwibGlrZSIsIl9hZGRlZExpa2UiLCJfcmVtb3ZlZExpa2UiLCJfZGVsZXRlZENhcmQiLCJpbWFnZUxpbmsiLCJfdXBkYXRlZEF2YXRhciIsInByb2ZpbGVFZGl0Rm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJjYXJkQWRkRm9ybVZhbGlkYXRvciIsInByb2ZpbGVVcGRhdGVBdmF0YXJGb3JtVmFsaWRhdG9yIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImNhcmRQcmV2aWV3SW1hZ2VQb3B1cCIsIm9wZW5Qb3B1cCIsImNyZWF0ZUNhcmQiLCJjYXJkIiwib3duZXIiLCJjb25maXJtRGVsZXRlQ2FyZFBvcHVwIiwibGlrZUNhcmQiLCJzZXRMaWtlc0NvdW50IiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwicmVtb3ZlTGlrZUNhcmQiLCJjcmVhdGVDYXJkRWxlbWVudCIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJQcm9maWxlSW5mbyIsImNhcmRFbGVtZW50cyIsImluaXRpYWxDYXJkTGlzdCIsInJlbmRlckl0ZW1zIiwic2V0VXNlckluZm8iLCJpbml0aWFsQ2FyZEVsZW1lbnQiLCJhZGRJdGVtIiwiY2FyZEFkZFBvcHVwIiwibmV3Q2FyZEVsZW1lbnQiLCJoYW5kbGVTdWJtaXRCdXR0b25UZXh0IiwiYWRkTmV3Q2FyZHMiLCJzZXRFdmVudExpc3RlbmVycyIsInByb2ZpbGVFZGl0UG9wdXAiLCJpbmZvIiwiZWRpdFByb2ZpbGVJbmZvIiwiZGF0YSIsInByb2ZpbGVVcGRhdGVBdmF0YXJQb3B1cCIsInVwZGF0ZUF2YXRhciIsImRlbGV0ZUNhcmQiLCJ1c2VyRGF0YSIsImdldFVzZXJJbmZvIiwicmVzZXRWYWxpZGF0aW9uRXJyb3JzIl0sInNvdXJjZVJvb3QiOiIifQ==